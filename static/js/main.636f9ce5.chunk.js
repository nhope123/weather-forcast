(this["webpackJsonpweather-forcast"]=this["webpackJsonpweather-forcast"]||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(31),s=n.n(a),i=n(16),o=n.n(i),u=n(20),l=n(21),d=n.n(l),j=n(11),m=n.n(j),b="position-relative d-flex ",h="flex-row justify-content-between",x="72b9218524d32ec84297f8d1c555ef67",f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?q=").concat(t,"&units=metric&appid=").concat(x));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("https://api.openweathermap.org/data/2.5/onecall/timemachine?units=metric&lat=").concat(t.lat,"&lon=").concat(t.lon,"&dt=").concat(O(n),"&appid=").concat(x),e.next=3,d.a.get(c);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){return m()().subtract(e,"days").unix()},y=n(14),v=n(33),g=n(0),w=Object(c.createContext)(),N=function(e){var t=Object(c.useState)(""),n=Object(y.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(y.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)([]),d=Object(y.a)(l,2),j=d[0],m=d[1];return Object(g.jsx)(w.Provider,{value:{city:r,setCity:a,coordinates:o,getCoordinates:function(e){u(e),m([])},previousForcast:j,setPreviousForcast:function(e){if(j.length<1||j.length>=5)m([e]);else{var t=[].concat(Object(v.a)(j),[e]).sort((function(e,t){return e.current.dt-t.current.dt}));m(t)}}},children:e.children})},F=n(66),C="Enter city name",S=function(){var e=Object(c.useState)(""),t=Object(y.a)(e,2),n=t[0],r=t[1],a=Object(c.useContext)(w).setCity;return Object(g.jsx)("div",{className:"position-relative d-block mb-5 ",children:Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(n),r("")},children:[Object(g.jsx)("input",{type:"search",tabIndex:"0",value:n,required:!0,"aria-placeholder":C,placeholder:C,onChange:function(e){return r(e.target.value)}}),Object(g.jsx)("button",{className:"px-2 search-button ",type:"submit",tabIndex:"0",disabled:n.length<1,children:Object(g.jsx)(F.a,{})})]})})},q=n(34),k=n(70),D=n(67),M=n(68),T="fs-1",K=function(e){return Object(g.jsxs)("div",{className:"".concat(b," flex-column align-items-center justify-content-end ").concat(P),children:["sunrise"===e.time?Object(g.jsx)(D.a,{className:"".concat(T," "),style:{color:"#0073e6"}}):Object(g.jsx)(M.a,{className:"".concat(T," "),style:{color:"#ff5e4b"}}),Object(g.jsx)("div",{children:m.a.unix(e.data).format("h:mm a")})]})},P="px-3",I=function(){var e=Object(c.useContext)(w),t=e.city,n=e.getCoordinates,r=e.previousForcast,a=Object(k.a)("weather",(function(){return f(t)}),{onSuccess:function(e){return n(e.coord)},cacheTime:1/0}).data;return Object(g.jsx)(g.Fragment,{children:r.length>=5&&Object(g.jsxs)("div",{className:"".concat(b," flex-column justify-content-start align-items-between current-forcast mb-3"),children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{className:"text-center",children:"".concat(a.name,", ").concat(a.sys.country)}),Object(g.jsx)("div",{className:"text-center",children:m.a.unix(a.dt).format("ddd, MMM D, h:ssa")})]}),Object(g.jsxs)("div",{className:"".concat(b," ").concat(h," align-items-center pb-3 px-4"),children:[Object(g.jsx)("h1",{className:"current-temp m-0 align-middle  fw-bold",children:"".concat(Math.round(a.main.temp),"\xb0C")}),Object(g.jsxs)("div",{className:"".concat(b," flex-column justify-content-center "),children:[Object(g.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:a.weather[0].description}),Object(g.jsx)("div",{className:"text-center",children:a.weather[0].main})]})]}),Object(g.jsxs)("div",{className:"".concat(b," ").concat(h," "),children:[Object(g.jsx)(K,{time:"sunrise",data:a.sys.sunrise}),Object(g.jsx)(K,{time:"sunset",data:a.sys.sunset}),Object(g.jsxs)("div",{className:"".concat(b," flex-column justify-content-end ").concat(P),children:[Object(g.jsx)("div",{children:"Feels"}),Object(g.jsx)("div",{className:"feel-like ",children:"".concat(Math.round(a.main.feels_like),"\xb0C")})]}),Object(g.jsxs)("div",{className:"".concat(b," flex-row justify-content-center align-items-end feel-like  ").concat(P),children:[Object(g.jsx)("span",{className:"position-relative d-inline-block min-temp",children:"".concat(Math.round(a.main.temp_min),"\xb0C")}),Object(g.jsx)("span",{className:"position-relative d-inline-block fs-2  lh-base division",children:"/"}),Object(g.jsx)("span",{className:"position-relative d-inline-block max-temp",children:"".concat(Math.round(a.main.temp_max),"\xb0C")})]})]})]})})},_=n(71),B=function(){var e=Object(c.useContext)(w),t=e.coordinates,n=e.setPreviousForcast;return Object(_.a)([{queryKey:["day",1],queryFn:function(){return p(t,1)},onSuccess:function(e){return n(e)},retry:1,retryDelay:200,cacheTime:1/0},{queryKey:["day",2],queryFn:function(){return p(t,2)},onSuccess:function(e){return n(e)},retry:1,retryDelay:300,cacheTime:1/0},{queryKey:["day",3],queryFn:function(){return p(t,3)},onSuccess:function(e){return n(e)},retry:1,retryDelay:400,cacheTime:1/0},{queryKey:["day",4],queryFn:function(){return p(t,4)},onSuccess:function(e){return n(e)},retry:1,retryDelay:500,cacheTime:1/0},{queryKey:["day",5],queryFn:function(){return p(t,5)},onSuccess:function(e){return n(e)},retry:1,retryDelay:600,cacheTime:1/0}]),Object(g.jsx)(g.Fragment,{children:" "})},E=function(e){var t=Object(c.useContext)(w).previousForcast;return Object(g.jsx)(g.Fragment,{children:t.length>=5&&Object(g.jsxs)("div",{className:"".concat(b," flex-column justify-content-center align-items-center my-2"),children:[Object(g.jsx)("div",{children:e.date}),Object(g.jsx)("div",{children:e.temp}),Object(g.jsxs)("div",{className:"".concat(b," flex-row justify-content-center "),children:[Object(g.jsx)("img",{src:e.icon,className:"w-50 ",alt:e.desc}),Object(g.jsx)("div",{className:"text-center",children:e.main})]})]})})},J=function(){var e=Object(c.useContext)(w),t=e.city,n=e.coordinates,r=e.previousForcast;return Object(g.jsxs)(g.Fragment,{children:[t&&Object(g.jsx)(I,{}),n&&Object(g.jsx)(B,{}),n?Object(g.jsx)("div",{className:"".concat(b," flex-row flex-wrap justify-content-center align-items-center "),children:r.length>0&&r.map((function(e){return Object(g.jsx)(E,Object(q.a)({},(t=e,{temp:"".concat(Math.round(t.current.temp),"\xb0C"),main:t.current.weather.main,desc:t.current.weather.description,icon:"http://openweathermap.org/img/wn/".concat(t.current.weather[0].icon,"@2x.png"),date:"".concat(m.a.unix(t.current.dt).format("ddd D")),id:t.current.dt})),e.current.dt);var t}))}):Object(g.jsx)("div",{className:"welcome",children:Object(g.jsx)("h2",{children:"Welcome "})})]})},L=n(69),W=n(18),z=new L.a,A=function(e){return Object(g.jsx)(W.a,{client:z,children:e.children})},G=function(){return Object(g.jsx)(A,{children:Object(g.jsx)(N,{children:Object(g.jsxs)("div",{className:"".concat(b," flex-column justify-content-start align-items-center py-5 px-3 bg-purple vw-100 min-vh-100"),children:[Object(g.jsx)("h1",{className:"mb-4 fw-bold ",children:"Weather Forcast"}),Object(g.jsx)(S,{}),Object(g.jsx)(J,{})]})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(62),n(63);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(G,{})}),document.getElementById("root")),H()}},[[64,1,2]]]);
//# sourceMappingURL=main.636f9ce5.chunk.js.map