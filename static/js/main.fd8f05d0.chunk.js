(this["webpackJsonpweather-forcast"]=this["webpackJsonpweather-forcast"]||[]).push([[0],{63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(31),s=n.n(r),i=n(16),o=n.n(i),l=n(20),u=n(21),d=n.n(u),j=n(13),b=n.n(j),m="position-relative d-flex ",h="flex-row justify-content-between",f="72b9218524d32ec84297f8d1c555ef67",x=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?q=").concat(t,"&units=metric&appid=").concat(f));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(o.a.mark((function e(t,n){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("https://api.openweathermap.org/data/2.5/onecall/timemachine?units=metric&lat=").concat(t.lat,"&lon=").concat(t.lon,"&dt=").concat(y(n),"&appid=").concat(f),e.next=3,d.a.get(c);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){return{temp:"".concat(Math.round(e.current.temp),"\xb0C"),main:e.current.weather.main,desc:e.current.weather.description,icon:"http://openweathermap.org/img/wn/".concat(e.current.weather[0].icon,"@2x.png"),date:"".concat(b.a.unix(e.current.dt).format("ddd D")),key:e.current.dt}},y=function(e){return b()().subtract(e,"days").unix()},v=n(1),g=function(){return Object(v.jsx)("header",{children:Object(v.jsx)("h1",{id:"title",className:"mb-4 fw-bold ",children:Object(v.jsx)("a",{href:"https://github.com/nhope123/weather-forcast",tabIndex:"0",target:"_top",title:"Go to Repository",children:"Weather Forcast"})})})},w=n(11),N=n(22),F=n(70),S=n(71),C=Object(c.createContext)(),k=function(e){var t=Object(c.useState)(""),n=Object(w.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(w.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)([]),d=Object(w.a)(u,2),j=d[0],m=d[1],h=Object(c.useState)(""),f=Object(w.a)(h,2),y=f[0],g=f[1],k=Object(c.useState)(!0),q=Object(w.a)(k,2),M=q[0],_=q[1],L=function(e){j.length<1?m([O(e)]):j.length<4?m([].concat(Object(N.a)(j),[O(e)])):4===j.length&&(m([].concat(Object(N.a)(j),[O(e)]).sort((function(e,t){return e.key-t.key}))),l(""),_(!1))},I=function(e){var t;l(e.coord),g({name:(t=e).name,country:t.sys.country,date:b.a.unix(t.dt).format("ddd, MMM D, h:ssa"),temp:"".concat(Math.round(t.main.temp),"\xb0C"),icon:"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@2x.png"),desc:t.weather[0].description,main:t.weather[0].main,sunrise:t.sys.sunrise,sunset:t.sys.sunset,feel:"".concat(Math.round(t.main.feels_like),"\xb0C"),temp_min:"".concat(Math.round(t.main.temp_min),"\xb0C"),temp_max:"".concat(Math.round(t.main.temp_max),"\xb0C")}),m([]),r("")};return Object(F.a)("weather",(function(){return x(a)}),{onSuccess:function(e){return I(e)},cacheTime:1/0,enabled:a.length>0}),Object(S.a)([{queryKey:["day",1],queryFn:function(){return p(o,1)},onSuccess:function(e){return L(e)},retry:1,enabled:"object"===typeof o},{queryKey:["day",2],queryFn:function(){return p(o,2)},onSuccess:function(e){return L(e)},retry:1,enabled:"object"===typeof o},{queryKey:["day",3],queryFn:function(){return p(o,3)},onSuccess:function(e){return L(e)},retry:1,enabled:"object"===typeof o},{queryKey:["day",4],queryFn:function(){return p(o,4)},onSuccess:function(e){return L(e)},retry:1,enabled:"object"===typeof o},{queryKey:["day",5],queryFn:function(){return p(o,5)},onSuccess:function(e){return L(e)},retry:1,enabled:"object"===typeof o}]),Object(v.jsx)(C.Provider,{value:{city:a,setCity:r,coordinates:o,getLocalForcast:I,currentForcast:y,setCurrentForcast:g,previousForcast:j,getForcastHistory:L,isFirstLoad:M,setIsFirstLoad:_},children:e.children})},q=n(66),M="Enter city name",_=function(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(C).setCity;return Object(v.jsx)("div",{className:"position-relative d-block pb-5  px-5 pt-2",role:"search",children:Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(n),a("")},"aria-label":"Search city weaather forcast ",children:[Object(v.jsx)("input",{type:"search",tabIndex:"0",value:n,required:!0,"aria-placeholder":M,placeholder:M,onChange:function(e){return a(e.target.value)},"aria-label":"Search for the city"}),Object(v.jsx)("button",{title:"Submit ",type:"submit",tabIndex:"0",disabled:n.length<1,children:Object(v.jsx)(q.a,{})})]})})},L=n(33),I=n(67),K=n(68),D="fs-1",E=function(e){return Object(v.jsxs)("div",{className:"".concat(m," flex-column align-items-center justify-content-end ").concat(P),children:["sunrise"===e.time?Object(v.jsx)(I.a,{className:"".concat(D," "),style:{color:"#0073e6"}}):Object(v.jsx)(K.a,{className:"".concat(D," "),style:{color:"#ff5e4b"}}),Object(v.jsx)("div",{children:b.a.unix(e.data).format("h:mm a")})]})},P="px-3",T=function(){var e=Object(c.useContext)(C).currentForcast;return Object(v.jsxs)("div",{className:"".concat(m," flex-column justify-content-start align-items-between current-forcast mb-3"),children:[Object(v.jsxs)("div",{role:"region","aria-label":"Address and current date",children:[Object(v.jsx)("h2",{className:"text-center",children:"".concat(e.name,", ").concat(e.country)}),Object(v.jsx)("div",{className:"text-center",children:e.date})]}),Object(v.jsxs)("div",{className:"".concat(m," ").concat(h," align-items-center pb-3 px-4"),role:"region","aria-label":"current temperture",children:[Object(v.jsx)("h1",{className:"current-temp m-0 align-middle  fw-bold",children:e.temp}),Object(v.jsxs)("div",{className:"".concat(m," flex-column justify-content-center "),children:[Object(v.jsx)("img",{src:e.icon,alt:e.desc}),Object(v.jsx)("div",{className:"text-center",children:e.main})]})]}),Object(v.jsxs)("div",{className:"".concat(m," ").concat(h," "),role:"region","aria-label":"current weather status",children:[Object(v.jsx)(E,{time:"sunrise",data:e.sunrise}),Object(v.jsx)(E,{time:"sunset",data:e.sunset}),Object(v.jsxs)("div",{className:"".concat(m," flex-column justify-content-end ").concat(P),children:[Object(v.jsx)("div",{children:"Feels"}),Object(v.jsx)("div",{className:"text-center",children:e.feel})]}),Object(v.jsxs)("div",{className:"".concat(m," flex-row justify-content-center align-items-end ").concat(P),children:[Object(v.jsx)("span",{className:"position-relative d-inline-block min-temp ",children:e.temp_min}),Object(v.jsx)("span",{className:"position-relative d-inline-block fs-2  lh-base division",children:"/"}),Object(v.jsx)("span",{className:"position-relative d-inline-block max-temp",children:e.temp_max})]})]})]})},B=function(e){var t=Object(c.useContext)(C).previousForcast;return Object(c.useEffect)((function(){}),[t]),Object(v.jsx)(v.Fragment,{children:t.length>=5&&Object(v.jsxs)("div",{className:"".concat(m," flex-column justify-content-center align-items-center my-2"),children:[Object(v.jsx)("div",{children:e.date}),Object(v.jsx)("div",{children:e.temp}),Object(v.jsxs)("div",{className:"".concat(m," flex-row justify-content-center "),children:[Object(v.jsx)("img",{src:e.icon,className:"w-50 ",alt:e.desc}),Object(v.jsx)("div",{className:"text-center",children:e.main})]})]})})},J=function(){var e=Object(c.useContext)(C),t=e.previousForcast,n=e.isFirstLoad;return Object(v.jsx)(v.Fragment,{children:5===t.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(T,{}),Object(v.jsx)("div",{className:"".concat(m," flex-row flex-wrap justify-content-center align-items-center "),role:"region","aria-label":"5 day forcast history",children:t.map((function(e){return Object(v.jsx)(B,Object(L.a)({},e),e.key)}))})]}):Object(v.jsx)("div",{className:"welcome",role:"alert","aria-labelledby":"stand in",children:Object(v.jsx)("h2",{id:"stand in",children:"".concat(n?"Welcome":"Loading.........")})})})},W=n(69),A=n(18),G=new W.a,H=function(e){return Object(v.jsx)(A.a,{client:G,children:e.children})},R=function(){return Object(v.jsx)(H,{children:Object(v.jsx)(k,{children:Object(v.jsxs)("div",{className:"".concat(m," flex-column justify-content-start align-items-center py-5 px-3 bg-purple vw-100 min-vh-100"),role:"main","aria-labelledby":"title",children:[Object(v.jsx)(g,{}),Object(v.jsx)(_,{}),Object(v.jsx)(J,{})]})})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};n(62),n(63);s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(R,{})}),document.getElementById("root")),z()}},[[64,1,2]]]);
//# sourceMappingURL=main.fd8f05d0.chunk.js.map