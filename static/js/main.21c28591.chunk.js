(this["webpackJsonpweather-forcast"]=this["webpackJsonpweather-forcast"]||[]).push([[0],{64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),a=n(32),s=n.n(a),i=n(17),o=n.n(i),u=n(21),l=n(22),d=n.n(l),j=n(11),m=n.n(j),b="position-relative d-flex ",h="flex-row justify-content-between",x="72b9218524d32ec84297f8d1c555ef67",f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat("https://api.openweathermap.org/data/2.5/weather?q=").concat(t,"&units=metric&appid=").concat(x));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("https://api.openweathermap.org/data/2.5/onecall/timemachine?units=metric&lat=").concat(t.lat,"&lon=").concat(t.lon,"&dt=").concat(p(n),"&appid=").concat(x),e.next=3,d.a.get(c);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(e){return m()().subtract(e,"days").unix()},y=n(13),v=n(15),g=n(35),w=n(0),N=Object(c.createContext)(),F=function(e){var t=Object(c.useState)(""),n=Object(v.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(v.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)([]),d=Object(v.a)(l,2),j=d[0],m=d[1];return Object(w.jsx)(N.Provider,{value:{city:r,setCity:a,coordinates:o,getCoordinates:function(e){u(e),m([])},previousForcast:j,setPreviousForcast:function(e){if(j.length<1||j.length>=5)m([e]);else{var t=[].concat(Object(g.a)(j),[e]).sort((function(e,t){return e.current.dt-t.current.dt}));m(t)}}},children:e.children})},C=n(67),S="Enter city name",q=function(){var e,t=Object(c.useState)(""),n=Object(v.a)(t,2),r=n[0],a=n[1],s=Object(c.useContext)(N).setCity;return Object(w.jsx)("div",{className:"position-relative d-block mb-5 ",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(r),a("")},children:[Object(w.jsx)("input",(e={type:"search",tabIndex:"0",value:r,required:!0},Object(y.a)(e,"required",!0),Object(y.a)(e,"aria-placeholder",S),Object(y.a)(e,"placeholder",S),Object(y.a)(e,"onChange",(function(e){return a(e.target.value)})),e)),Object(w.jsx)("button",{className:"px-2 search-button ",title:"Submit ",type:"submit",tabIndex:"0",disabled:r.length<1,children:Object(w.jsx)(C.a,{})})]})})},k=n(33),D=n(71),M=n(68),T=n(69),K="fs-1",P=function(e){return Object(w.jsxs)("div",{className:"".concat(b," flex-column align-items-center justify-content-end ").concat(I),children:["sunrise"===e.time?Object(w.jsx)(M.a,{className:"".concat(K," "),style:{color:"#0073e6"}}):Object(w.jsx)(T.a,{className:"".concat(K," "),style:{color:"#ff5e4b"}}),Object(w.jsx)("div",{children:m.a.unix(e.data).format("h:mm a")})]})},I="px-3",_=function(){var e=Object(c.useContext)(N),t=e.city,n=e.getCoordinates,r=e.previousForcast,a=Object(D.a)("weather",(function(){return f(t)}),{onSuccess:function(e){return n(e.coord)},cacheTime:1/0}).data;return Object(w.jsx)(w.Fragment,{children:r.length>=5&&Object(w.jsxs)("div",{className:"".concat(b," flex-column justify-content-start align-items-between current-forcast mb-3"),children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{className:"text-center",children:"".concat(a.name,", ").concat(a.sys.country)}),Object(w.jsx)("div",{className:"text-center",children:m.a.unix(a.dt).format("ddd, MMM D, h:ssa")})]}),Object(w.jsxs)("div",{className:"".concat(b," ").concat(h," align-items-center pb-3 px-4"),children:[Object(w.jsx)("h1",{className:"current-temp m-0 align-middle  fw-bold",children:"".concat(Math.round(a.main.temp),"\xb0C")}),Object(w.jsxs)("div",{className:"".concat(b," flex-column justify-content-center "),children:[Object(w.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:a.weather[0].description}),Object(w.jsx)("div",{className:"text-center",children:a.weather[0].main})]})]}),Object(w.jsxs)("div",{className:"".concat(b," ").concat(h," "),children:[Object(w.jsx)(P,{time:"sunrise",data:a.sys.sunrise}),Object(w.jsx)(P,{time:"sunset",data:a.sys.sunset}),Object(w.jsxs)("div",{className:"".concat(b," flex-column justify-content-end ").concat(I),children:[Object(w.jsx)("div",{children:"Feels"}),Object(w.jsx)("div",{className:"feel-like ",children:"".concat(Math.round(a.main.feels_like),"\xb0C")})]}),Object(w.jsxs)("div",{className:"".concat(b," flex-row justify-content-center align-items-end feel-like  ").concat(I),children:[Object(w.jsx)("span",{className:"position-relative d-inline-block min-temp",children:"".concat(Math.round(a.main.temp_min),"\xb0C")}),Object(w.jsx)("span",{className:"position-relative d-inline-block fs-2  lh-base division",children:"/"}),Object(w.jsx)("span",{className:"position-relative d-inline-block max-temp",children:"".concat(Math.round(a.main.temp_max),"\xb0C")})]})]})]})})},B=n(72),E=function(){var e=Object(c.useContext)(N),t=e.coordinates,n=e.setPreviousForcast;return Object(B.a)([{queryKey:["day",1],queryFn:function(){return O(t,1)},onSuccess:function(e){return n(e)},retry:1,retryDelay:200,cacheTime:1/0},{queryKey:["day",2],queryFn:function(){return O(t,2)},onSuccess:function(e){return n(e)},retry:1,retryDelay:300,cacheTime:1/0},{queryKey:["day",3],queryFn:function(){return O(t,3)},onSuccess:function(e){return n(e)},retry:1,retryDelay:400,cacheTime:1/0},{queryKey:["day",4],queryFn:function(){return O(t,4)},onSuccess:function(e){return n(e)},retry:1,retryDelay:500,cacheTime:1/0},{queryKey:["day",5],queryFn:function(){return O(t,5)},onSuccess:function(e){return n(e)},retry:1,retryDelay:600,cacheTime:1/0}]),Object(w.jsx)(w.Fragment,{children:" "})},J=function(e){var t=Object(c.useContext)(N).previousForcast;return Object(w.jsx)(w.Fragment,{children:t.length>=5&&Object(w.jsxs)("div",{className:"".concat(b," flex-column justify-content-center align-items-center my-2"),children:[Object(w.jsx)("div",{children:e.date}),Object(w.jsx)("div",{children:e.temp}),Object(w.jsxs)("div",{className:"".concat(b," flex-row justify-content-center "),children:[Object(w.jsx)("img",{src:e.icon,className:"w-50 ",alt:e.desc}),Object(w.jsx)("div",{className:"text-center",children:e.main})]})]})})},L=function(){var e=Object(c.useContext)(N),t=e.city,n=e.coordinates,r=e.previousForcast;return Object(w.jsxs)(w.Fragment,{children:[t&&Object(w.jsx)(_,{}),n&&Object(w.jsx)(E,{}),n?Object(w.jsx)("div",{className:"".concat(b," flex-row flex-wrap justify-content-center align-items-center "),children:r.length>0&&r.map((function(e){return Object(w.jsx)(J,Object(k.a)({},(t=e,{temp:"".concat(Math.round(t.current.temp),"\xb0C"),main:t.current.weather.main,desc:t.current.weather.description,icon:"http://openweathermap.org/img/wn/".concat(t.current.weather[0].icon,"@2x.png"),date:"".concat(m.a.unix(t.current.dt).format("ddd D")),id:t.current.dt})),e.current.dt);var t}))}):Object(w.jsx)("div",{className:"welcome",children:Object(w.jsx)("h2",{children:"Welcome "})})]})},W=n(70),z=n(19),A=new W.a,G=function(e){return Object(w.jsx)(z.a,{client:A,children:e.children})},H=function(){return Object(w.jsx)(G,{children:Object(w.jsx)(F,{children:Object(w.jsxs)("div",{className:"".concat(b," flex-column justify-content-start align-items-center py-5 px-3 bg-purple vw-100 min-vh-100"),children:[Object(w.jsx)("h1",{className:"mb-4 fw-bold ",children:"Weather Forcast"}),Object(w.jsx)(q,{}),Object(w.jsx)(L,{})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};n(63),n(64);s.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(H,{})}),document.getElementById("root")),Q()}},[[65,1,2]]]);
//# sourceMappingURL=main.21c28591.chunk.js.map